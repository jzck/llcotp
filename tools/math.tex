\usepackage{bm}
\usepackage{amsmath}
\usepackage{unicode-math}
\newcommand{\bra}[1]{\left< #1 \right|}
\newcommand{\ket}[1]{\left| #1 \right>}
\newcommand{\bk}[2]{\left< #1 \middle| #2 \right>}
\newcommand{\bke}[3]{\left< #1 \middle| #2 \middle| #3 \right>}

\newcommand{\dd}[2][]{\mathrm{d}^{#1}#2}
\newcommand{\v}[1]{\boldsymbol{#1}}
\newcommand{\re}[1]{\text{re}\left[#1\right]}
\newcommand{\qop}[2][]{\hat{#2}\vphantom{#2}^{#1}}
\newcommand{\mfrac}[2]{\textstyle\frac{#1}{#2}\displaystyle}
\newcommand{\ptag}[2][]{\label{#1/#2}\tag*{(#2)}}

\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\sh}{sh}
\DeclareMathOperator{\th}{th}

\DeclareMathOperator{\o}{o}
\DeclareMathOperator{\O}{O}

\DeclareMathOperator{\det}{det}

\DeclareMathOperator{\curl}{\v{curl}}
\DeclareMathOperator{\div}{div}
\DeclareMathOperator{\grad}{\v{grad}}

\newenvironment{nalign}{
\begin{equation}
\begin{aligned}
}{
\end{aligned}
\end{equation}
\ignorespacesafterend
}
